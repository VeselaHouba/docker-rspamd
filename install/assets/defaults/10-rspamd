#!/usr/bin/with-contenv bash

### Set Defaults
ANTIVIRUS_ACTION=${ANTIVIRUS_ACTION:-"reject"}
ANTIVIRUS_ATTACHMENTS_ONLY=${ANTIVIRUS_ATTACHMENTS_ONLY:-"FALSE"}
ANTIVIRUS_LOG_CLEAN=${ANTIVIRUS_LOG_CLEAN:-"TRUE"}
ANTIVIRUS_MAX_SIZE=${ANTIVIRUS_MAX_SIZE:-20000000}
ANTIVIRUS_TYPE=${ANTIVIRUS_TYPE:-"clamav"}
ARC_ALLOW_ENVFROM_EMPTY=${ARC_ALLOW_ENVFROM_EMPTY:-"TRUE"}
ARC_ALLOW_HDRFROM_MISMATCH=${ARC_ALLOW_HDRFROM_MISMATCH:-"TRUE"}
ARC_ALLOW_HDRFROM_MULTIPLE=${ARC_ALLOW_HDRFROM_MULTIPLE:-"TRUE"}
ARC_ALLOW_USERNAME_MISMATCH=${ARC_ALLOW_USERNAME_MISMATCH:-"TRUE"}
ARC_AUTH_ONLY=${ARC_AUTH_ONLY:-"TRUE"}
ARC_SIGN_INBOUND=${ARC_SIGN_INBOUND:-"TRUE"}
ARC_SIGN_LOCAL=${ARC_SIGN_LOCAL:-"TRUE"}
ARC_TRY_FALLBACK=${ARC_TRY_FALLBACK:-"TRUE"}
ARC_USE_DOMAIN=${ARC_USE_DOMAIN:-"header"}
ARC_USE_DOMAIN_SIGN_INBOUND=${ARC_USE_DOMAIN_SIGN_INBOUND:-"recipient"}
ARC_USE_ESLD=${ARC_USE_ESLD:-"TRUE"}
BAYESIAN_AUTOLEARN=${BAYESIAN_AUTOLEARN:-"TRUE"}
BAYESIAN_AUTOLEARN_CHECK_BALANCE=${BAYESIAN_AUTOLEARN_CHECK_BALANCE:-"TRUE"}
BAYESIAN_AUTOLEARN_HAM_THRESHOLD=${BAYESIAN_AUTOLEARN_HAM_THRESHOLD:-"-0.5"}
BAYESIAN_AUTOLEARN_MIN_BALANCE=${BAYESIAN_AUTOLEARN_MIN_BALANCE:-"0.9"}
BAYESIAN_AUTOLEARN_SPAM_THRESHOLD=${BAYESIAN_AUTOLEARN_SPAM_THRESHOLD:-"6.0"}
BAYESIAN_EXPIRE=${BAYESIAN_EXPIRE:-315360000}
BAYESIAN_MIN_LEARNS=${BAYESIAN_MIN_LEARNS:-1}
BAYESIAN_NEW_SCHEMA=${BAYESIAN_NEW_SCHEMA:-"TRUE"}
BAYESIAN_SIGNATURES=${BAYESIAN_SIGNATURES:-"TRUE"}
BAYESIAN_STORE_STOKENS=${BAYESIAN_STORE_STOKENS:-"TRUE"}
CLAMAV_HOST=${CLAMAV_HOST:-"clamav"}
CLAMAV_PORT=${CLAMAV_PORT:-"3310"}
CONFIG_PATH=${CONFIG_PATH:-"/config/"}
CONTROLLER_COUNT=${CONTROLLER_COUNT:-1}
CONTROLLER_LISTEN_IP=${CONTROLLER_LISTEN_IP:-"*v4"}
CONTROLLER_LISTEN_PORT=${CONTROLLER_LISTEN_PORT:-"11334"}
CONTROLLER_HOST=${CONTROLLER_HOST:-"127.0.0.1"}
CONTROLLER_PORT=${CONTROLLER_PORT:-"11334"}
CONTROLLER_PASS=${CONTROLLER_PASS:-"admin"}
CONTROLLER_SECURE_IPS=${CONTROLLER_SECURE_IPS:-"127.0.0.1,172.16.0.0/12"}
DKIM_ALLOW_ENVFROM_EMPTY=${DKIM_ALLOW_ENVFROM_EMPTY:-"TRUE"}
DKIM_ALLOW_HDRFROM_MISMATCH=${DKIM_ALLOW_HDRFROM_MISMATCH:-"TRUE"}
DKIM_ALLOW_HDRFROM_MULTIPLE=${DKIM_ALLOW_HDRFROM_MULTIPLE:-"TRUE"}
DKIM_ALLOW_USERNAME_MISMATCH=${DKIM_ALLOW_USERNAME_MISMATCH:-"TRUE"}
DKIM_SIGN_AUTH=${DKIM_SIGN_AUTH:-"TRUE"}
DKIM_KEY_SIZE=${DKIM_KEY_SIZE:-"2048"}
DKIM_SIGN_LOCAL=${DKIM_SIGN_LOCAL:-"TRUE"}
DKIM_TRY_FALLBACK=${DKIM_TRY_FALLBACK:-"TRUE"}
DKIM_USE_ESLD=${DKIM_USE_ESLD:-"TRUE"}
DKIM_SELECTOR=${DKIM_SELECTOR:-"mail"}
DMARC_DOMAIN=${DMARC_DOMAIN:-"example.com"}
DMARC_EMAIL=${DMARC_EMAIL:-"postmaster@example.com"}
DMARC_ENABLE_REPORTING=${DMARC_ENABLE_REPORTING:-"TRUE"}
DMARC_FROM_NAME=${DMARC_FROM_NAME:-"Mailserver"}
DMARC_ORG_NAME=${DMARC_ORG_NAME:-"Example Organization"}
DMARC_SEND_REPORTS=${DMARC_SEND_REPORTS:-"FALSE"}
DMARC_SMTP_HELO=${DMARC_SMTP_HELO:-"rspamd"}
DMARC_SMTP_HOST=${DMARC_SMTP_HOST:-"postfix-relay"}
DMARC_SMTP_PORT=${DMARC_SMTP_PORT:-"25"}
DMARC_SMTP_RETRIES=${DMARC_SMTP_RETRIES:-"2"}
ENABLE_ANTIVIRUS=${ENABLE_ANTIVIRUS:-"TRUE"}
ENABLE_ARC=${ENABLE_ARC:-"TRUE"}
ENABLE_ASN=${ENABLE_ASN:-"TRUE"}
ENABLE_CONTROLLER=${ENABLE_CONTROLLER:-"TRUE"}
ENABLE_DKIM=${ENABLE_DKIM:-"TRUE"}
ENABLE_DMARC=${ENABLE_DMARC:-"TRUE"}
ENABLE_GREYLIST=${ENABLE_GREYLIST:-"FALSE"}
ENABLE_HISTORY=${ENABLE_HISTORY:-"TRUE"}
ENABLE_MILTER=${ENABLE_MILTER:-"TRUE"}
ENABLE_MX_CHECK=${ENABLE_MX_CHECK:-"TRUE"}
ENABLE_NEURAL=${ENABLE_NEURAL:-"TRUE"}
ENABLE_OLETOOLS=${ENABLE_OLETOOLS:-"TRUE"}
ENABLE_PHISHING_CHECK=${ENABLE_PHISHING_CHECK:-"TRUE"}
ENABLE_REPUTATION=${ENABLE_REPUTATION:-"TRUE"}
ENABLE_SPAMTRAP=${ENABLE_SPAMTRAP:-"TRUE"}
ENABLE_SPF=${ENABLE_SPF:-"TRUE"}
ENABLE_URL_REPUTATION=${ENABLE_URL_REPUTATION:-"TRUE"}
ENABLE_URL_TAGS=${ENABLE_URL_TAGS:-"TRUE"}
HISTORY_COMPRESS=${HISTORY_COMPRESS:-"TRUE"}
HISTORY_ROWS_LIMIT=${HISTORY_ROWS_LIMIT:-"200"}
HISTORY_SUBJECT_PRIVACY=${HISTORY_SUBJECT_PRIVACY:-"FALSE"}
LOCAL_IPS=${LOCAL_IPS:-"127.0.0.0/8, 172.16.0.0/12"}
LOG_CONSOLE_COLORIZE=${LOG_CONSOLE_COLORIZE:-"TRUE"}
LOG_FILE=${LOG_FILE:-"rspamd.log"}
LOG_LEVEL=${LOG_LEVEL:-"silent"}
LOG_LOCATION=${LOG_LOCATION:-"/logs/"}
LOG_SEVERITY=${LOG_SEVERITY:-"TRUE"}
LOG_TYPE=${LOG_TYPE:-"FILE"}
LOG_URLS=${LOG_URLS:-"FALSE"}
LOG_USEC=${LOG_USEC:-"FALSE"}
MAP_WATCH_INTERVAL=${MAP_WATCH_INTERVAL:-"30s"}
METRICS_ADD_HEADER=${METRICS_ADD_HEADER:-"6"}
METRICS_GREYLIST=${METRICS_GREYLIST:-"4"}
METRICS_REJECT=${METRICS_REJECT:-"15"}
METRICS_REWRITE_SUBJECT=${METRICS_REWRITE_SUBJECT:-"12"}
MILTER_EXTENDED_SPAM_HEADERS=${MILTER_EXTENDED_SPAM_HEADERS:-"FALSE"}
MODE=${MODE:-"AIO"}
MX_CHECK_EXPIRE=${MX_CHECK_EXPIRE:-"86400"}
MX_CHECK_TIMEOUT=${MX_CHECK_TIMEOUT:-"8.0"}
NAMESERVER=${NAMESERVER:-"127.0.0.1"}
NAMESERVER_TIMEOUT=${NAMESERVER_TIMEOUT:-"5s"}
NEURAL_ANN_EXPIRE=${NEURAL_ANN_EXPIRE:-"2w"}
NEURAL_LEARNING_RATE=${NEURAL_LEARNING_RATE:-"0.01"}
NEURAL_MAX_ITERATIONS=${NEURAL_MAX_ITERATIONS:-"25"}
NEURAL_MAX_TRAIN=${NEURAL_MAX_TRAIN:-"1k"}
NEURAL_MAX_USAGES=${NEURAL_MAX_USAGES:-"60"}
OLETOOLS_SCAN_MIME=${OLETOOLS_SCAN_MIME:-"TRUE"}
OLETOOLS_BLOCK_ALL_MACROS=${OLETOOLS_BLOCK_ALL_MACROS:-"TRUE"}
PHISHING_ENABLE_OPENPHISH=${PHISHING_ENABLE_OPENPHISH:-"TRUE"}
PHISHING_ENABLE_PHISHTANK=${PHISHING_ENABLE_PHISHTANK:-"TRUE"}
PHISHING_OPENPHISH_FEED=${PHISHING_OPENPHISH_FEED:-"https://www.openphish.com/feed.txt"}
PHISHING_OPENPHISH_PREMIUM=${PHISHING_OPENPHISH_PREMIUM:-"FALSE"}
RATELIMIT_FROM_BURST=${RATELIMIT_FROM_BURST:-"50"}
RATELIMIT_FROM_RATE=${RATELIMIT_FROM_RATE:-"1 / 1min"}
RATELIMIT_RCPT_BURST=${RATELIMIT_RCPT_BURST:-"50"}
RATELIMIT_RCPT_RATE=${RATELIMIT_RCPT_RATE:-"1 / 1min"}
REDIS_DB=${REDIS_DB:-"7"}
REDIS_HOST=${REDIS_HOST:-"rspamd-redis"}
REDIS_PORT=${REDIS_PORT:-"6379"}
REDIS_TIMEOUT=${REDIS_TIMEOUT:-"3s"}
REWRITE_SUBJECT=${REWRITE_SUBJECT:-"[SPAM] %s"}
RSPAMD_DATA_LOCATION=${RSPAMD_DATA_LOCATION:-"/data/rspamd"}
SETUP_TYPE=${SETUP_TYPE:-"AUTO"}
SPAMTRAP_ACTION=${SPAMTRAP_ACTION:-"no action"}
SPAMTRAP_LEARN_FUZZY=${SPAMTRAP_LEARN_FUZZY:-"TRUE"}
SPAMTRAP_LEARN_SPAM=${SPAMTRAP_LEARN_SPAM:-"TRUE"}
SPAMTRAP_SCORE=${SPAMTRAP_SCORE:-"1.0"}
WHITELIST_ANTIVIRUS=${WHITELIST_ANTIVIRUS:-"antivirus.wl"}
WORKER_FUZZY_LISTEN_IP=${WORKER_FUZZY_LISTEN_IP:-"*v4"}
WORKER_FUZZY_LISTEN_PORT=${WORKER_FUZZY_LISTEN_PORT:-"11335"}
WORKER_FUZZY_ALLOW_UPDATE_IPS=${WORKER_FUZZY_ALLOW_UPDATE_IPS:-"127.0.0.1"}
WORKER_FUZZY_COUNT=${WORKER_FUZZY_COUNT:-1}
WORKER_FUZZY_EXPIRE=${WORKER_FUZZY_EXPIRE:-"90d"}
WORKER_FUZZY_SYNC=${WORKER_FUZZY_SYNC:-"1min"}
WORKER_LISTEN_IP=${WORKER_LISTEN_IP:-"*v4"}
WORKER_LISTEN_PORT=${WORKER_LISTEN_PORT:-"11333"}
WORKER_COUNT=${WORKER_COUNT:-"1"}
WORKER_TASK_TIMEOUT=${WORKER_TASK_TIMEOUT:-"12s"}
WORKER_PROXY_LISTEN_IP=${WORKER_PROXY_LISTEN_IP:-"*v4"}
WORKER_PROXY_LISTEN_PORT=${WORKER_PROXY_LISTEN_PORT:-"11332"}
WORKER_PROXY_SPAM_HEADER=${WORKER_PROXY_SPAM_HEADER:-"X-Spam-Status"}
WORKER_PROXY_TIMEOUT=${WORKER_PROXY_TIMEOUT:-"120s"}
WORKER_PROXY_REJECT_MESSAGE=${WORKER_PROXY_REJECT_MESSAGE:-"Spam message rejected"}
WORKER_PROXY_COUNT=${WORKER_PROXY_COUNT:-"1"}
WORKER_PROXY_MAX_RETRY=${WORKER_PROXY_MAX_RETRY:-"5"}
WORKER_PROXY_REJECT_DISCARD=${WORKER_PROXY_REJECT_DISCARD:-"FALSE"}
WORKER_PROXY_REJECT_QUARANTINE=${WORKER_PROXY_REJECT_QUARANTINE:-"FALSE"}
DB_HOST=${DB_HOST:-${REDIS_HOST}}
DB_PORT=${DB_PORT:-${REDIS_PORT}}
